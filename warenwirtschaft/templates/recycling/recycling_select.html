{% extends 'base.html' %}
{% load static %}

{% block title %}Aufbereitung auswählen{% endblock %}

{% block content %}
<form method="post">
    {% csrf_token %}

    <div class="itemcard">
        <div class="itemcard-title itemcard-margin-left">
            <h2>Aufbereitung: Unload auswählen</h2>
        </div>

        <table class="itemcard-table">
            <thead class="itemcard-thead">
                <tr>
                    <th class="itemcard-id">№</th>
                    <th class="itemcard-id">VID</th>
                    <th class="itemcard-material">Material</th>
                    <th class="itemcard-boxtype">Behälter</th>
                    <th class="itemcard-status">Status</th>
                    <th class="itemcard-note">Anmerkung</th>
                    <th class="itemcard-action"></th>
                </tr>
            </thead>

            <tbody class="itemcard-tbody">
                {% for unload in unloads %}
                <tr class="itemcard-table-row">
                    <td class="itemcard-id">
                        <p>{{ forloop.counter }}</p>
                    </td>
                    <td class="itemcard-id">
                        <p>{{ unload.id }}</p>
                    </td>
                    <td class="itemcard-material">
                        <p>{{ unload.material }}</p>
                    </td>
                    <td class="iitemcard-boxtype">
                        <p>{{ unload.get_box_type_display }}</p>
                    </td>
                    <td class="itemcard-status">
                        {% if unload.status == status_choices.AUFBEREITUNG_LAUFEND %}
                            <p>Laufend</p>
                        {% elif unload.status == status_choices.AUFBEREITUNG_AUSSTEHEND %}
                            <p>Ausstehend</p>
                        {% endif %}
                    </td>

                    <td class="itemcard-note">
                        <p>{{ unload.note }}</p>
                    </td>

                    <td class="itemcard-action-wrapper">
                        <div class="itemcard-action">
                            <button type="submit"  name="unload_id" value="{{ unload.pk }}" class="btn btn-lock">
                                <img class="icon-lock-closed" src="/static/icons/lock-icon.svg">
                            </button>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center">Keine passenden Unloads gefunden.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</form>
{% endblock %}
