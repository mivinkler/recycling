{% load static %}

<div class="top-icons-wrapper no-print">

  <!-- Zeile -->
  <div>
    <div class="top-icon">
      <a href="#" id="detail-link" class="tooltip-wrapper">
        <span class="tooltip-text">Detail</span>
        <img src="{% static 'icons/info-icon.svg' %}">
      </a>
      <a href="#" id="edit-link" class="tooltip-wrapper">
        <span class="tooltip-text">Bearbeiten</span>
        <img src="{% static 'icons/edit-icon.svg' %}">
      </a>
    </div>
    <p class="top-icons-title">Zeile</p>
  </div>

  <!-- Suche -->
  <div>
    <div class="top-icon">
      
      <!-- Suchfeld -->
      <details class="top-icon-detail">
        <summary class="tooltip-wrapper">
          <span class="tooltip-text">Suche</span>
          <img src="{% static 'icons/search-icon.svg' %}">
        </summary>
        <div>
          <form method="GET" class="icon-search">
            <input class="icon-search-input" type="text" name="search" placeholder="Suchen..." value="{{ filters.search }}">

            <!-- Даты -->
            <div class="flex-items-between">
              <input type="date" name="date_start" value="{{ filters.date_start }}">
              <input type="date" name="date_end" value="{{ filters.date_end }}">
            </div>

            <!-- Статус: Aktiv / Erledigt -->
            <div class="flex-items-between">
              <div>Status</div>
              <select name="status_filter">
                <option value="">Alle</option>
                <option value="aktiv" {% if filters.status_filter == "aktiv" %}selected{% endif %}>Aktiv</option>
                <option value="erledigt" {% if filters.status_filter == "erledigt" %}selected{% endif %}>Erledigt</option>
              </select>
            </div>

            <button type="submit" class="btn">Suchen</button>
          </form>
        </div>
      </details>

      <!-- Sortieren -->
      <details class="top-icon-detail">
        <summary class="tooltip-wrapper">
          <span class="tooltip-text">Sortieren</span>
          <img src="{% static 'icons/sort-icon.svg' %}">
        </summary>
        <div>
          {% for field, label in active_fields %}
            <div class="icon-sort">
              <span>{{ label }}</span>
              <div>
                <a href="?sort={{ field }}_asc"
                   class="{% if sort_param == field|add:'_asc' %}icon-active{% endif %}">▼</a>
                <a href="?sort={{ field }}_desc"
                   class="{% if sort_param == field|add:'_desc' %}icon-active{% endif %}">▲</a>
              </div>
            </div>
          {% endfor %}
        </div>
      </details>

      <!-- Reset -->
      <a href="#" class="tooltip-wrapper top-icon-js">
        <span class="tooltip-text">Reset</span>
        <img src="{% static 'icons/reset-icon.svg' %}">
      </a>
      
    </div>
    <p class="top-icons-title">Suchen</p>
  </div>

  <!-- Statistik -->
  <!-- <div>
    <div class="top-icon">
      <a href="#" class="tooltip-wrapper">
        <span class="tooltip-text">Statistik</span>
        <img src="{% static 'icons/statistic-icon.svg' %}">
      </a>
      <a href="#" class="tooltip-wrapper">
        <span class="tooltip-text">Statistik</span>
        <img src="{% static 'icons/diagram-icon.svg' %}">
      </a>
    </div>
    <p class="top-icons-title">Statistik</p>
  </div> -->

  <!-- Erstellen -->
  <div>
    <div class="top-icon">
      <a href="{% url 'supplier_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Lieferant</span>
        <img src="{% static 'icons/supplier-icon.svg' %}">
      </a>
      <a href="{% url 'customer_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Abholer</span>
        <img src="{% static 'icons/customer-icon.svg' %}">
      </a>
      <a href="{% url 'delivery_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Lieferung</span>
        <img src="{% static 'icons/container-icon.svg' %}">
      </a>
      <a href="{% url 'unload_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Leerung</span>
        <img src="{% static 'icons/forklift-icon.svg' %}">
      </a>
      <a href="{% url 'recycling_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Recycling</span>
        <img src="{% static 'icons/recycle-icon.svg' %}">
      </a>
      <a href="{% url 'shipping_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Versand</span>
        <img src="{% static 'icons/shipping-icon.svg' %}">
      </a>
      <a href="{% url 'reusable_barcode_create' %}" class="tooltip-wrapper">
        <span class="tooltip-text">Barcode</span>
        <img src="{% static 'icons/barcode-icon.svg' %}">
      </a>
    </div>
    <p class="top-icons-title">Erstellen</p>
  </div>
</div>
