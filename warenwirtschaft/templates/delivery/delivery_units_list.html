{% extends 'base.html' %}

{% load custom_filters %}
{% load pagination %}
{% load sorting %}
{% load static %}

{% block title %}{{ _("Einheiten") }}{% endblock %}

{% block content %}

<div class="table-name">Liefereinheiten</div>

<div class="table-action">
    <button class="table-search btn-activ">üîç</button>
    <button class="table-reset btn-activ"><a href="{% url 'delivery_units_list' %}" class="reset-btn">‚ü≤</a></button>
</div>

<table class="table-box">
    <colgroup>
        <col style="width: 3.5%">    <!-- Nr. -->
        <col style="width: 20%">     <!-- Lieferung -->
        <col style="width: 6%;">     <!-- Datum -->
        <col style="width: 3.5%">    <!-- LID -->
        <col style="width: 10%;">    <!-- Beh√§lter -->
        <col style="width: 10%;">    <!-- Inhalt -->
        <col style="width: 6%;">     <!-- Gewicht -->
        <col style="width: 6%;">     <!-- Status -->
        <col style="width: 200px;">  <!-- Bemerkung -->
        <col style="width: 10%; ">   <!-- actions -->
    </colgroup>

    <thead>
        <tr class="table-filter" hidden>
            <form method="GET" name="filter">
                <td><input type="text" name="id" placeholder="id" value="{{ request.GET.id }}"></td>
                <td><input type="text" name="delivery" placeholder="Lieferung" value="{{ request.GET.delivery }}"></td>
                <td><input type="text" name="created_at" placeholder="Datum" value="{{ request.GET.created_at }}"></td>
                <td><input type="text" name="delivery_date" placeholder="LID" value="{{ request.GET.delivery_date }}"></td>
                <td>
                    <select name="delivery_type">
                        <option value="" disabled selected hidden>Beh√§lter</option>
                        <option value="1" {% if request.GET.delivery_type == "1" %}selected{% endif %}>Container</option>
                        <option value="2" {% if request.GET.delivery_type == "2" %}selected{% endif %}>Gitterbox</option>
                        <option value="3" {% if request.GET.delivery_type == "3" %}selected{% endif %}>Palette</option>
                        <option value="4" {% if request.GET.delivery_type == "4" %}selected{% endif %}>Ohne Beh√§lter</option>
                    </select>
                </td>
                <td><input type="text" name="device" placeholder="Inhalt" value="{{ request.GET.device }}"></td>
                <td><input type="text" name="weight" placeholder="Gewicht" value="{{ request.GET.weight }}"></td>
                <td>
                    <select name="status">
                        <option value="" disabled selected hidden>Status</option>
                        <option value="1" {% if request.GET.status == "1" %}selected{% endif %}>Eingang</option>
                        <option value="2" {% if request.GET.status == "2" %}selected{% endif %}>Zerlegung</option>
                        <option value="3" {% if request.GET.status == "3" %}selected{% endif %}>Erledigt</option>
                    </select>
                </td>
                <td>
                    <button class="btn-activ" type="submit">Suchen</button>
                </td>
            </form>
        </tr>
  
        <tr class="table-content-title">
            <th>{% sort "&#8470;" "id" request.GET.sort %}</th>
            <th>{% sort "Lieferung" "delivery" request.GET.sort %}</th>
            <th>{% sort "Datum" "date" request.GET.sort %}</th>
            <th>{% sort "LID" "lid" request.GET.sort %}</th>
            <th>{% sort "Beh√§lter" "container" request.GET.sort %}</th>
            <th>{% sort "Inhalt" "device" request.GET.sort %}</th>
            <th>{% sort "Gewicht" "weight" request.GET.sort %}</th>
            <th>{% sort "Status" "status" request.GET.sort %}</th>
            <th>{% sort "Bemerkung" "note" request.GET.sort %}</th>
            <th></th> <!-- actions -->
        </tr>
    </thead>

    <tbody class="table-content">
        {% for item in page_obj %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.delivery }}</td>
            <td>{{ item.delivery.delivery_date|date:"d.m.Y" }}</td>
            <td>{{ item.delivery_id }}</td>
            <td>{{ item|getattr:"get_delivery_type_display" }}</td>
            <td>{{ item.device }}</td>
            <td>{{ item.weight }} </td>
            <td>{{ item|getattr:"get_status_display" }}</td>
            <td class="note-column" title="{{ item.note }}">{{ item.note }}</td>
            <td class="suppler-icons">
                <div>
                    <a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="#4e4e4e" viewBox="0 0 110.94 122.88">
                            <title>Lieferungen</title>
                            <path d="M19.26,40.53a2.74,2.74,0,0,1-2.59-2.82,2.69,2.69,0,0,1,2.59-2.82H63.41A2.72,2.72,0,0,1,66,37.71a2.68,2.68,0,0,1-2.58,2.82ZM79.41,66a24.82,24.82,0,0,1,20.78,38.41l10.75,11.71-7.42,6.77-10.36-11.4A24.82,24.82,0,1,1,79.41,66Zm13.2,11.62a18.66,18.66,0,1,0,5.47,13.2,18.66,18.66,0,0,0-5.47-13.2Zm-73.32-22a2.73,2.73,0,0,1-2.58-2.82A2.68,2.68,0,0,1,19.29,50H41.37A2.74,2.74,0,0,1,44,52.84a2.68,2.68,0,0,1-2.58,2.82ZM82.76,17.14H92a6.64,6.64,0,0,1,6.61,6.61V55.18c-.2,2.07-5.27,2.1-5.7,0V23.75a.92.92,0,0,0-.94-.94H82.73V55.18c-.49,1.88-4.72,2.16-5.67,0V6.61a.92.92,0,0,0-.94-.94H6.58a1,1,0,0,0-.68.27,1,1,0,0,0-.26.67V85.18a1,1,0,0,0,.26.67,1,1,0,0,0,.68.27H43.36c2.86.29,3,5.23,0,5.67H21.5v10.53a.92.92,0,0,0,.94.94H43.36c2.07.23,2.74,4.94,0,5.67H22.48a6.62,6.62,0,0,1-6.61-6.61V91.79H6.61a6.49,6.49,0,0,1-4.66-2A6.56,6.56,0,0,1,0,85.18V6.61A6.49,6.49,0,0,1,2,2,6.55,6.55,0,0,1,6.61,0H76.16a6.51,6.51,0,0,1,4.66,2,6.54,6.54,0,0,1,1.94,4.66V17.14ZM19.26,25.4a2.74,2.74,0,0,1-2.59-2.82,2.69,2.69,0,0,1,2.59-2.82H63.41A2.73,2.73,0,0,1,66,22.58a2.69,2.69,0,0,1-2.58,2.82Z"/>
                        </svg>
                    </a>

                    <a href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17px" height="17px" left="10" fill="#7c7c7c" viewBox="0 0 122.88 122.878" enable-background="new 0 0 122.88 122.878" xml:space="preserve">
                            <title>Profile bearbeiten</title>
                            <g><path fill-rule="evenodd" clip-rule="evenodd" d="M101.589,14.7l8.818,8.819c2.321,2.321,2.321,6.118,0,8.439l-7.101,7.101 c1.959,3.658,3.454,7.601,4.405,11.752h9.199c3.283,0,5.969,2.686,5.969,5.968V69.25c0,3.283-2.686,5.969-5.969,5.969h-10.039 c-1.231,4.063-2.992,7.896-5.204,11.418l6.512,6.51c2.321,2.323,2.321,6.12,0,8.44l-8.818,8.819c-2.321,2.32-6.119,2.32-8.439,0 l-7.102-7.102c-3.657,1.96-7.601,3.456-11.753,4.406v9.199c0,3.282-2.685,5.968-5.968,5.968H53.629 c-3.283,0-5.969-2.686-5.969-5.968v-10.039c-4.063-1.232-7.896-2.993-11.417-5.205l-6.511,6.512c-2.323,2.321-6.12,2.321-8.441,0 l-8.818-8.818c-2.321-2.321-2.321-6.118,0-8.439l7.102-7.102c-1.96-3.657-3.456-7.6-4.405-11.751H5.968 C2.686,72.067,0,69.382,0,66.099V53.628c0-3.283,2.686-5.968,5.968-5.968h10.039c1.232-4.063,2.993-7.896,5.204-11.418l-6.511-6.51 c-2.321-2.322-2.321-6.12,0-8.44l8.819-8.819c2.321-2.321,6.118-2.321,8.439,0l7.101,7.101c3.658-1.96,7.601-3.456,11.753-4.406 V5.969C50.812,2.686,53.498,0,56.78,0h12.471c3.282,0,5.968,2.686,5.968,5.969v10.036c4.064,1.231,7.898,2.992,11.422,5.204 l6.507-6.509C95.471,12.379,99.268,12.379,101.589,14.7L101.589,14.7z M61.44,36.92c13.54,0,24.519,10.98,24.519,24.519 c0,13.538-10.979,24.519-24.519,24.519c-13.539,0-24.519-10.98-24.519-24.519C36.921,47.9,47.901,36.92,61.44,36.92L61.44,36.92z"/></g>
                        </svg>
                    </a>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% paginate page_obj %}

{% block extra_js %}
    <script src="{% static 'js/block_visibility.js' %}"></script>
{% endblock %}

{% endblock %}
