{% extends 'base.html' %}

{% load pagination %}
{% load sorting %}
{% load static %}

{% block title %}Lieferanten{% endblock %}

{% block content %}

<div class="table-header">
    <div>
        ANDERWERK <span style="color: red; font-weight: bold; width: 100px;">‚ùØ</span>
    </div>
    <div class="table-header-user">
        <div>Max Musterman</div>
        <img class="user-white-icon" src="/static/icons/user-white-icon.svg">
    </div>
</div>

<div class="top-menu">
    <div><a href="{% url 'suppliers_list' %}" class="{% if selected_menu == 'supplier_list' %} selected {% endif %}">Lieferanten</a></div>
    <div><a href="{% url 'delivery_units_list' %}">Eingang</a></div>
    <div><a href="{% url 'unloads_list' %}">Leerung</a></div>
    <div><a href="{% url 'unloads_list' %}">Recycling</a></div>
    <div><a href="{% url 'unloads_list' %}">Versand</a></div>
</div>

<div class="navi-icons">
    <div>
        <div class="navi-icon">
            {% include 'components/left_navi.html' %}
            <img src="/static/icons/download-icon.svg">
            <img src="/static/icons/print-icon.svg">

        </div>
        <p class="icons-title">Action</p>
    </div>

    <div>
        <div class="navi-icon">
            <a href="#" title="Detail">
                <img src="{% static 'icons/info-icon.svg' %}">   
            </a>
            <a href="#" title="Bearbeiten"> 
                <img src="{% static 'icons/edit-icon.svg' %}">
            </a>
        </div>
        <p class="icons-title">Zeile</p>
    </div>

    <div>

        <div class="navi-icon">
            <div class="navi-icon-js">
                <div class="toggle-button">
                    <img src="{% static 'icons/search-icon.svg' %}">
                </div>
                <div class="icon-detail hidden-block" hidden>
                    <form class="icon-search" method="GET">
                        <input class="icon-search-input" type="text" name="search" placeholder="Suchen..." value="{{ search_query }}">
                        <button class="icon-search-button" type="submit">üîç</button>
                    </form>
                
                    <form class="icon-search-date" method="GET">
                        <input type="date" id="dateStart">
                        <input type="date" id="dateEnd">
                    </form>
                </div>
            </div>
            
            <div class="navi-icon-js">
                <div class="toggle-button">
                    <img src="{% static 'icons/sort-icon.svg' %}">
                </div>
                <div class="icon-detail hidden-block" hidden>
                    <div>
                        {% for field, label in active_fields %}
                        <div class="icon-sort">
                            <span>{{ label }}</span>
                            <div>
                                <a href="?sort={{ field }}_asc">&#9650;</a>
                                <a href="?sort={{ field }}_desc">&#9660;</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <a href="{% url 'suppliers_list' %}" title="Reset"> 
                <img src="{% static 'icons/reset-icon.svg' %}">

            </a>
        </div>

        <p class="icons-title">Suchen</p>
    </div>

    <div>
        <div class="navi-icon">

            <a href="#" title="suchen">
                <img src="{% static 'icons/statistic-icon.svg' %}">   
            </a>
            <a href="#" title="suchen">
                <img src="{% static 'icons/diagram-icon.svg' %}">   
            </a>
        </div>
        <p class="icons-title">Statistik</p>
    </div>

    <div>

        <div class="navi-icon">
            <a href="{% url 'supplier_create' %}" title="Lieferant">
                <img src="{% static 'icons/supplier-icon.svg' %}">   
            </a>
            <a href="{% url 'delivery_create' %}" title="Lieferung">
                <img src="{% static 'icons/container-icon.svg' %}">   
            </a>
            <a href="{% url 'unload_create' %}" title="Leerung">
                <img src="{% static 'icons/forklift-icon.svg' %}">   
            </a>
            <a href="#" title="Recycling">
                <img src="{% static 'icons/conveyor-icon.svg' %}">   
            </a>
            <a href="#" title="Versand">
                <img src="{% static 'icons/shipping-icon.svg' %}">   
            </a>
        </div>
        <p class="icons-title">Erstellen</p>
    </div>
</div>

<table class="table-box">
    <thead>
        <tr class="thead-title">
            <th class=""></th>
            <th>AVV</th>
            <th>Name</th>
            <th>Adresse</th>
            <th>PLZ</th>
            <th>Stadt</th>
            <th>Telefon</th>
            <th>Email</th>
            <th>Bemerkung</th>
            <th></th> <!-- actions -->
        </tr>
    </thead>
    <tbody>
        {% for supplier in page_obj %}
        <tr>
            <td class="tbody-id">{{ supplier.id }}</td>
            <td class="tbody-avv">{{ supplier.avv_number }}</td>
            <td class="tbody-name">{{ supplier.name }}</td>
            <td class="tbody-street">{{ supplier.street }}</td>
            <td class="tbody-postal">{{ supplier.postal_code }}</td>
            <td class="tbody-city">{{ supplier.city }}</td>
            <td class="tbody-phone">{{ supplier.phone }}</td>
            <td class="tbody-email">{{ supplier.email }}</td>
            <td class="note-column" title="{{ supplier.note }}"><p>{{ supplier.note }}</p></td>
            <td class="suppler-icons">
                <a href="{% url 'supplier_detail' pk=supplier.id %}" title="Detail">
                    <img src="{% static 'icons/detail-icon-alt.svg' %}">   
                </a>
                <a href="{% url 'supplier_update' pk=supplier.id %}" title="Bearbeiten"> 
                    <img src="{% static 'icons/update-icon-alt.svg' %}">
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% paginate page_obj %}

{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/block_visibility.js' %}"></script>
    <script src="{% static 'js/current-date.js' %}"></script>
{% endblock %}

