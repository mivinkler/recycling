{% extends 'base.html' %}

{% load custom_filters %}
{% load pagination %}
{% load sorting %}
{% load static %}

{% block title %}{{ _("Einheiten") }}{% endblock %}

{% block content %}
<form method="post">
    {% csrf_token %}
    
    <div class="form-errors">
        {{ form.non_field_errors }}
        {{ form.errors }}
    </div>

    <div class="table-name">Entladung</div>

    <div class="select_cargo">
        <table class="table-box">
            
            <tbody class="table-content">
                {% for item in page_obj %}
                <tr class="item-row">
                    <td class="text-center">
                        <input type="radio" name="delivery_unit" value="{{ item.id }}">
                    </td>
                    <td class="text-center item-id">{{ item.id }}</td>
                    <td class="item-supplier">{{ item.delivery.supplier.name }}</td>
                    <td>{{ item.delivery.delivery_date|date:"d.m.Y" }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% paginate page_obj %}
    </div>



        <div class="row-counter">
            <p>
                <span>ðŸ¡†</span>
                <input type="number" id="row-counter" value="1" min="1" max="30" onchange="unload()"> 
                <span>ðŸ¡†</span>
            </p>
        </div>

        <table class="table-box">
            <tbody class="table-content table-input" id="table-body">
                {% for i in rows %}
                <tr>
                    <td class="text-center">{{ i }}</td>
                    <td>
                        <select name="unload_type">
                            <option value="1">Gitterbox</option>
                            <option value="2">Palette</option>
                            <option value="3">Ohne BehÃ¤lter</option>
                        </select>
                    </td>
                    <td>
                        <select name="device">
                            <option selected disabled>-- Bitte wÃ¤hlen --</option>
                            {% for device in devices %}
                                <option value="{{ device.id }}">{{ device.name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td><input type="number" name="weight" min="0" step="0.1"></td>
                    <td>
                        <select name="purpose">
                            <option value="1">Zerlegung</option>
                            <option value="2">Reparatur</option>
                            <option value="3">Entsorgung</option>
                        </select>
                    </td>
                    <td><input type="text" name="note"></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <button type="submit">Speichern</button>
</form>


{% endblock %}
